<html>
	<head>
		<title>
			Gambling Game
		</title>
		<link rel="icon" type="image/png" href="content/dice.png"/>
	</head>
	<style>
		
		body{
			font-family:"arial";
			overflow:hidden;
		}
		
		#bet{
			position:absolute;
			bottom:0px;
			right:0px;
			width:250px;
			height:500px;
		}
		
		#wager{
			position:absolute;
			text-align:center;
			bottom:210px;
			width:100%;
			height:20px;
		}
		
		#fast_forward{
			position:absolute;
			text-align:center;
			bottom:70px;
			width:100%;
			height:20px;
		}
		
		#bet_button{
			position:absolute;
			
			bottom:100px;
			width:100%;
			height:50px;
		}
		
		#button{
			position:absolute;
			padding-top:15px;
			height:65px;
			width:88px;
			border-radius:5px;
			border:1px solid #f8f8d7;
			color:#f8f8d7;
			left:calc(125px - 45px);
			bottom: 0px;
		}
		
		#multiplier{
			position:absolute;
			bottom:0px;
			height:50px;
			width:600px;
			left:50px;
			font-size:40;
		}
		
		#coins{
			position:absolute;
			bottom:0px;
			height:50px;
			width:400px;
			right:50px;
			font-size:40;
			text-align:right;
		}
		
		#graph{
			position:absolute;
			bottom:50px;
			left:50px;
			height:calc(100% - 100px);
			width:calc(100% - 100px);
			border:1px solid #f8f8d7;
		} 
		
		#all_time{
			position:absolute;
			top:75px;
			left:75px;
			height:250px;
			width:600px;
			border:1px solid #900d27;
		}
		
		#all_time_title{
			position:absolute;
			top:90px;
			left:90px;
			height:250px;
			width:100%;
			color:#900d27;
		}
		
		#all_time_record{
			position:absolute;
			top:90px;
			text-align:right;
			left:90px;
			height:250px;
			width:575;
			color:#900d27;
		}

			.home-icon{
            width: 40px; /* Pas de grootte aan */
            height: 40px;
            margin-left: 0px;
            vertical-align: middle;
        }

		.cart-icon {
            width: 30px; /* Pas de grootte aan */
            height: 30px;
            margin-left: 5px;
            vertical-align: middle;
        }

        .stats-icon {
            width: 30px; /* Pas de grootte aan */
            height: 30px;
            margin-right: 5px;
            vertical-align: middle;
        }


#menu {
  z-index: 1000;
}

#menu-bar {
  width: 45px;
  height: 40px;
  margin: 30px 0 20px 20px;
  cursor: pointer;
}

.bar {
  height: 5px;
  width: 100%;
  background-color: #f8f8d7;
  display: block;
  border-radius: 5px;
  transition: 0.3s ease;
}

#bar1 {
  transform: translateY(-4px);
}

#bar3 {
  transform: translateY(4px);
}

.nav1 {
  transition: 0.3s ease;
  display: none;
}

.nav1 ul {
  padding: 0 22px;
}

.nav1 li {
  list-style: none;
  padding: 12px 0;
}

.nav1 li a {
  color: #cd3f2b;
  font-size: 20px;
  text-decoration: none;
}

.nav1 li a:hover {
  font-weight: bold;
}

.menu-bg, #menu {
  top: 0;
  left: 0;
  position: absolute;
}

.menu-bg {
  z-index: 999;
  width: 0;
  height: 0;
  margin: 30px 0 20px 20px;
  background: radial-gradient(circle, #f8f8d7, #f8f8d7);
  border-radius: 50%;
  transition: 0.3s ease;
}

.change {
  display: block;
}

.change .bar {
  background-color: #cd3f2b;
}

.change #bar1 {
  transform: translateY(4px) rotateZ(-45deg);
}

.change #bar2 {
  opacity: 0;
}

.change #bar3 {
  transform: translateY(-6px) rotateZ(45deg);
}

.change-bg {
  width: 600px;
  height: 540px;
  transform: translate(-60%,-30%);
}
		
	</style>
	<body onmouseout="out()">
		<canvas width="1260" height="600"id="graph" ></canvas>
		<canvas id="all_time" width="600px" height="250px"></canvas>
		<div id="all_time_title">
			Career Chart
		</div>
		<div id="all_time_record">
		
		</div>
		<div id="coins">
			<center>
				<span id="coins"></span>
			</center>
		</div>
		<div id="multiplier">
		Multiplier: <span id="multiplier_text"></span>
		</div>
		<div id="bet">
			<div id="fast_forward">
			<input type="button" style="text-align:center;border:1px solid black; background:white; height:20px; border-radius:5px; width:90px;" value="Fast Forward" id="ff" onmousedown="fast_forward()" onmouseup="normal_speed()">
			</div>
			<div id="wager">
				Wager:
				<br>
				<input type="text" style="text-align:center;border:1px solid black; height:20px; border-radius:5px; width:90px;" value="5" id="wager_value">
			</div>
			<div id="bet_button">
				<center>
					<div id="button" onmousedown="hold()" onmouseup="out()"></div>
				</center>
			</div>
		</div>

		                <nav class="navigation">
                    <div id="menu">
                        <div id="menu-bar" onclick="menuOnClick()">
                          <div id="bar1" class="bar"></div>
                          <div id="bar2" class="bar"></div>
                          <div id="bar3" class="bar"></div>
                        </div>
                        <nav1 class="nav1" id="nav1">
                          <ul>
                            <li> <a href="index.html">Main menu<img src="images/overig/homeicon.png" alt="home" class="home-icon"></a></li>
                            <li> <a href="store.html">Store<img src="images/overig/storeicon.png" alt="cart" class="cart-icon"></a></li>
                            <li> <a href="stats.html">Stats<img src="images/overig/statsicon.png" alt="stats" class="stats-icon"></a></li>
                        </ul>
                        </nav1> 
                      </div>
                      
                      <div class="menu-bg" id="menu-bg"></div>
                </nav>

	</body>
	<script>

		  function menuOnClick() {
document.getElementById("menu-bar").classList.toggle("change");
document.getElementById("nav1").classList.toggle("change");
document.getElementById("menu-bg").classList.toggle("change-bg");
}
	
		var buttonText = "Hold To Bet";
		var multiplier = 1;
		var coins = Number(localStorage.getItem("coins")) || 0;
		var betting = false;
		var setWager = 0;
		var bustedat = 0;
		var canvas;
		var alltimegraph;
		var ctx;
		var time = 0;
		var alltime = 0;
		var canbet = true;
		var keepgoing = false;
		var record = 100;
		
		set();
		init();
		
		function init(){
			document.getElementById("all_time_record").innerText = "Record: 100";
			canvas = document.getElementById('graph');
			alltimegraph = document.getElementById('all_time');

			if (canvas.getContext) {
				ctx = canvas.getContext('2d');
				ctx.fillStyle = 'rgba(0, 200, 0, 1 )';
			}
			alltimegraph.getContext('2d').fillStyle = 'rgba(230, 230, 230, 1)'
			alltimegraph.getContext('2d').fillRect(0, 150, 600, 1)
			alltimegraph.getContext('2d').fillStyle = 'rgba(0, 0, 0, 1)'

		}
			
			
		function set(){
			document.getElementById("button").innerText = buttonText;
			document.getElementById("coins").innerText = Math.floor(100*coins)/100 + " Coins";

		}
		
		function hold(){
			if(keepgoing){} else {
				if(canbet){
					
					if(document.getElementById("wager_value").value === "Palmer"){
						alert("This program is dedicated to my friend, Palmer, maybe, with practice, he will not lose all my betting coins. - Tyler Hudson");
					}
					if(document.getElementById("wager_value").value === "Mitchell"){
						alert("You wish you could program - Tyler Hudson");
					}
					if(document.getElementById("wager_value").value === "Jake"){
					alert("Thanks for the bits, don't murder my coins again - Tyler Hudson");
					}
					
					if(document.getElementById("wager_value").value === "Drew"){
					alert("You've ruined all my previous versions of this game and you're a grammer Nazi... thanks for that...? - Tyler Hudson");
					}
					let wager = Number(document.getElementById("wager_value").value);

if (!Number.isFinite(wager) || wager < 1) {
	alert("Please wager a valid number of coins");
	return;
}

if (wager > coins) {
	alert("You don't have enough coins for that wager");
	return;
}
					canbet = false;
					setWager = document.getElementById("wager_value").value;
					coins = coins - document.getElementById("wager_value").value;
					betting = true;
					document.getElementById("button").style.background = "#55ff55";
					keepgoing = true;
					} else {
						alert("Please wager a valid number of coins");
						setWager = 0;
					}
					localStorage.setItem("coins", coins);
					set();
					
				}
			}

			localStorage.setItem("coins", coins);
		
		
		setInterval(function(){
			if(betting || keepgoing){
				
				if(betting){
					buttonText = "Cash Out At " + (Math.floor(100*setWager*multiplier)/100);
					document.getElementById("button").style.marginLeft = Math.random()*3-1.5;
					document.getElementById("button").style.marginTop = Math.random()*3-1.5;
				} else {
					buttonText = "Wait...";
				}
				
				set();
				
				if(Math.random()>1/1387){
						
					multiplier = multiplier * 1.0005;
					document.getElementById("multiplier_text").innerText = Math.floor(multiplier*100)/100;
					ctx.fillStyle = 'rgba(0, 200, 0, 1 ';
					ctx.fillRect(time*2, (598 -((multiplier+0.4)*(multiplier+0.4))), 6, 6);
					time=time+1/13;
					alltimegraph.getContext('2d').fillStyle = 'rgba(0, 255, 0, 1)'
				} else {
					time = 0;
					keepgoing = false;
					alltimegraph.getContext('2d').fillStyle = 'rgba(255, 0, 0, 1)'
					bustedat = multiplier;
					multiplier = 0;
					out();
					multiplier = 1;
					document.getElementById("button").style.background = "#ff5555";
					document.getElementById("multiplier").style.color = "red";
					document.getElementById("multiplier_text").innerText = "Crashed at " + Math.floor(100*bustedat)/100;
					setTimeout(function(){
					
						if(betting){}else{
							
							document.getElementById("button").style.background = "#ffffff";
						}
						
						buttonText = "Hold To Bet";
						document.getElementById("multiplier").style.color = "black";
						document.getElementById("multiplier_text").innerText = "";
						ctx.fillStyle = 'rgba(255, 255, 255, 1 ';
						ctx.fillRect(0, 0, 6000, 6000);
						set();
					}, 3000)
				}
			}
		}, 9)
		
		
		function out(){
			if(betting){
				
				document.getElementById("button").style.background = "#ffffff";
				betting = false;
				coins = coins + setWager*multiplier;
				localStorage.setItem("coins", coins);
				if(multiplier > 0.5){
					buttonText = "You profited " + Math.floor(((setWager*multiplier)-setWager)*100)/100 + " coins";
					document.getElementById("multiplier").style.color = "#55ff55";
					document.getElementById("button").style.background = "#55ff55";
				} else {
					buttonText = "You lost " + Math.floor(100*setWager)/100 + " coins";
				}
				if(multiplier>0.5){
					
				}
				document.getElementById("graph").style.transform = "scale(1)";
				document.getElementById("multiplier_text").innerText = "";
				set();
				
				alltime++;
				alltimegraph.getContext('2d').fillRect(alltime, (250-coins), 3, 2)
				if(coins>record){
					record = coins;
					document.getElementById("all_time_record").innerText = "Record: " + Math.floor(100*coins)/100;
				}
				setTimeout(function(){
					buttonText = "Hold To Bet"
					canbet = true;
					document.getElementById("multiplier").style.color = "black";
					document.getElementById("button").style.background = "white";
					set();
				}, 3000)
			}
		}

		
		
		function fast_forward(){
			if(keepgoing){
				while(keepgoing){
				if(betting){
					buttonText = "Cash Out At " + (Math.floor(100*setWager*multiplier)/100);
					document.getElementById("button").style.marginLeft = Math.random()*3-1.5;
					document.getElementById("button").style.marginTop = Math.random()*3-1.5;
				} else {
					buttonText = "Wait...";
				}
				set();
				if(Math.random()>1/1387){
						
						multiplier = multiplier * 1.0005;
						document.getElementById("multiplier_text").innerText = Math.floor(multiplier*100)/100;
						ctx.fillStyle = 'rgba(0, 200, 0, 1 ';
						ctx.fillRect(time*2, (598 -((multiplier+0.4)*(multiplier+0.4))), 6, 6);
						time=time+1/13;
						alltimegraph.getContext('2d').fillStyle = 'rgba(0, 255, 0, 1)'
					} else {
						time = 0;
						keepgoing = false;
						alltimegraph.getContext('2d').fillStyle = 'rgba(255, 0, 0, 1)'
						bustedat = multiplier;
						multiplier = 0;
						out();
						multiplier = 1;
						document.getElementById("button").style.background = "#ff5555";
						document.getElementById("multiplier").style.color = "red";
						document.getElementById("multiplier_text").innerText = "Crashed at " + Math.floor(100*bustedat)/100;
						setTimeout(function(){
							if(betting){
								
							}else{
								document.getElementById("button").style.background = "#ffffff";
							}
							document.getElementById("multiplier").style.color = "black";
							document.getElementById("multiplier_text").innerText = "";
							ctx.fillStyle = 'rgba(255, 255, 255, 1 ';
							ctx.fillRect(0, 0, 6000, 6000);
							buttonText = "Hold To Bet";
							set();
						}, 3000)
					}
			}
		}}
		
		
		
	
	</script>
</html>